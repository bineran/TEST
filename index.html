<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
   
</head>
<body>
    <script>
        function removeDuplicates(urls) {
            let result = [];
            let seen = {};

            for (let i = 0; i < urls.length; i++) {
                let url = urls[i].url;
                if (!seen[url]) {
                    seen[url] = true;
                    result.push(urls[i]);
                }
            }

            return result;
        }


        // 创建一个新的XMLHttpRequest对象
        let xhr = new XMLHttpRequest();
        let currentUrl = window.location.href;
        let txtFilePath = '2322.txt';

        // 获取txt文件的完整URL
        let txtFileUrl = new URL(txtFilePath, currentUrl).href;

        // 设置请求的方法和URL
        xhr.open('GET', txtFileUrl, true);

        // 设置响应类型为text
        xhr.responseType = 'text';

        // 请求加载完成时的回调函数
        xhr.onload = function () {
            if (xhr.status === 200) {
                // 将文本内容转换为JSON对象
                let json = JSON.parse(xhr.responseText);

                // 将JSON对象赋值给input变量
                let input = json;

                // 调用removeDuplicates函数来处理input


                let output = {
                    urls: removeDuplicates(input.urls)
                };
                document.body.innerHTML = JSON.stringify(output);
            }
        };

        // 发送请求
        xhr.send();


  

    </script>
</body>
</html>
